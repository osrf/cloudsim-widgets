<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../elements/elements.html">

<dom-module id="cs-preciouskiosk">
  <style>

    :host {
      display: block;
      padding-top: 3em;
      @apply(--paper-font-common-base);
    }
    .horizontal {
      @apply(--layout-horizontal);
      @apply(--layout-center);
    }
    .center {
      margin: auto;
      width: 30%;
    }
    .space {
      @apply(--layout-flex);
    }
  </style>

  <template>

    <div class="horizontal">

      <div class="space"></div>

      <cs-machinelauncher
        portalUrl="[[portalurl]]"
        token="[[token]]"
        machines="[[machines]]"
      ></cs-machinelauncher>

      <div class="space"></div>

    </div>

    <!-- This will show all machines for the user, even if they weren't launched here -->
    <cs-machinelist
      portalurl="[[portalurl]]"
      currentuser="[[currentuser]]"
      token="[[token]]"
    ></cs-machinelist>

  </template>

  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'cs-preciouskiosk',

      // Attached
      attached: function() {
      },

      // Properties
      properties: {

        // Portal server URL
        portalurl: {
          type: String,
          value: '',
          notify: true
        },

        // Authentication token from cloudsim-auth
        token: {
          type: String,
          value: '',
          notify: true
        },

        // Username of user logged in
        currentuser: {
          type: String,
          value: '',
          notify: true
        },

        // Machine options
        machines: {
          type: Array,
          readonly: true,
          value: [{
                    id: "prius_v0.0.5",
                    name: "prius cup v0.5",
                    region: "us-west-1",
                    image: "ami-8693c0e6",
                    hardware: "g2.2xlarge"
                  },
                  {
                    id: "ubuntu_nvidia_docker_16GiB",
                    name: "ubuntu nvidia docker 16GiB",
                    region: "us-west-1",
                    image: "ami-b71142d7",
                    hardware: "g2.2xlarge"
                  },
                ]
        }
      },
    });
  })();
  </script>
</dom-module>
