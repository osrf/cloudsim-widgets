<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../elements/elements.html">

<dom-module id="cs-serverstatus">
  <style>
    paper-material {
      margin: 1em;
      padding: 1em;
      width: 25em;
    }
  </style>

  <template>

    <paper-material elevation="1">
      Authentication server: <a href="[[authurl]]" target="_blank">[[authurl]]</a>
      <br>
      Portal server: <a href="[[portalurl]]" target="_blank">[[portalurl]]</a>
    </paper-material>

  </template>

  <script>

  (function() {
    'use strict';

    Polymer({
      is: 'cs-serverstatus',

      attached: function() {

        var that = this;
        window.addEventListener('servers-url', function(e) {
          that.authurl = e.detail.authurl;
          that.portalurl = e.detail.portalurl;
        })

        console.log('cs-serverstatus widget attached!')
      },
      properties: {
        authurl: {
          type: String,
          value: 'not set',
          notify: true
        },
        portalurl: {
          type: String,
          value: 'not set',
          notify: true
        },
      },
    });
  })();
  </script>
</dom-module>
